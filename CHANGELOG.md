# Changelog

## [1.0.1](https://github.com/graasp/graasp-plugin-chatbox/compare/v1.0.0...v1.0.1) (2023-03-17)


### Bug Fixes

* rename package and author ([#52](https://github.com/graasp/graasp-plugin-chatbox/issues/52)) ([0bc6b21](https://github.com/graasp/graasp-plugin-chatbox/commit/0bc6b21c5f437e9e927d9095f89bbbde878eaaf8))

## 1.0.0 (2023-03-17)


### Features

* add actions ([23e68b8](https://github.com/graasp/graasp-plugin-chatbox/commit/23e68b883724e50a28a787f107aa23321e442fae))
* add all mention end-points ([fc7073a](https://github.com/graasp/graasp-plugin-chatbox/commit/fc7073a5e9d2c00f83b87575ad5796418773c61a))
* add chat message id ([1f601bd](https://github.com/graasp/graasp-plugin-chatbox/commit/1f601bd6f309eb600f5ce3146f72d2b3ca3a6796))
* add email notification ([3db63e5](https://github.com/graasp/graasp-plugin-chatbox/commit/3db63e584b7b30f8453169e4d6a98d5888aeffcd))
* add endpoint to export chat ([4992ae7](https://github.com/graasp/graasp-plugin-chatbox/commit/4992ae7cae28faf7b30c86cd75cde2e06f2908ee))
* add enum for user preference ([9c2c2ef](https://github.com/graasp/graasp-plugin-chatbox/commit/9c2c2ef7de34586a01131a689de090ff12f753ea))
* add hooks to mimic cascading of the db on delete ([b3209c6](https://github.com/graasp/graasp-plugin-chatbox/commit/b3209c61d660c45910e44069e8ffc1db43c74e69))
* add mentions on publish message ([6f54db1](https://github.com/graasp/graasp-plugin-chatbox/commit/6f54db10943bb4e1ef74ba8eae38dab6ebca4774))
* add message prop to ChatMention type ([21addc7](https://github.com/graasp/graasp-plugin-chatbox/commit/21addc72723068902415d4a2c26bec8a5825550f))
* add migration for updated_at column default value change ([9d8b473](https://github.com/graasp/graasp-plugin-chatbox/commit/9d8b4731231b4c80cb04a5dd3093e470f69d948f))
* add public plugin ([caad0be](https://github.com/graasp/graasp-plugin-chatbox/commit/caad0be204c7d0816acc20f19a13ef41b866cf80))
* add test workflow ([5a1d257](https://github.com/graasp/graasp-plugin-chatbox/commit/5a1d257b80c3dcc19d13b756c465abf88d6ada2f))
* add tests ([b067d8d](https://github.com/graasp/graasp-plugin-chatbox/commit/b067d8dc06cdf6faf0832a569d239f4bf19b27fe))
* add WS ([762e40b](https://github.com/graasp/graasp-plugin-chatbox/commit/762e40bb98931e187237b3e36e261606a0106a15))
* augment fastify instance with chat services ([420366c](https://github.com/graasp/graasp-plugin-chatbox/commit/420366c5a77cf7c8a10367a7817c098a91ba29f2))
* bump dependencies, upgrade websockets ([#48](https://github.com/graasp/graasp-plugin-chatbox/issues/48)) ([92937db](https://github.com/graasp/graasp-plugin-chatbox/commit/92937db8761e75aaf3ebd53e45a0eb664b965404))
* call publish message hooks ([0d2575d](https://github.com/graasp/graasp-plugin-chatbox/commit/0d2575d39d0ae1ffdf08681b52e516c5ad60d5d1))
* change action types and add original item type ([#26](https://github.com/graasp/graasp-plugin-chatbox/issues/26)) ([4cb0873](https://github.com/graasp/graasp-plugin-chatbox/commit/4cb08733173ac0551da9c5ac9ff8022e304fda88))
* implement chat plugin back-end ([83b7d13](https://github.com/graasp/graasp-plugin-chatbox/commit/83b7d134d17f9b19357c925c7c9eaed4a1020f5c))
* move mentions to a new register function ([e5683de](https://github.com/graasp/graasp-plugin-chatbox/commit/e5683def46a13556977342857fd74d592d5f20ca))
* register websockets events for chat, add docs, replace yarn by npm ([d400256](https://github.com/graasp/graasp-plugin-chatbox/commit/d400256b8d46d09bb5302ad1d30b9331d3b37237))
* take emailFreq into account ([1fa2260](https://github.com/graasp/graasp-plugin-chatbox/commit/1fa22606d308a197b8471bd9bafe407c429f4c45))
* update schema and db for new message payload shape ([55862fe](https://github.com/graasp/graasp-plugin-chatbox/commit/55862fe41ac0b7e0a5be5c089d3daeea03ac0013))
* wrap with fastify-plugin ([a9cb509](https://github.com/graasp/graasp-plugin-chatbox/commit/a9cb509cc5e03134287991415aef35c531b128e6))


### Bug Fixes

* add call to postHook on update mention ([342bd93](https://github.com/graasp/graasp-plugin-chatbox/commit/342bd936fd87e02d0d8c5e828388ff5025fe011f))
* add changes for mailer registration ([20a48df](https://github.com/graasp/graasp-plugin-chatbox/commit/20a48df74d907e8d597834d8dc0470c9b5b529be))
* add identifier in SQL ([3505103](https://github.com/graasp/graasp-plugin-chatbox/commit/35051039cd2cf9f9eec18c4e841af7187b22335a))
* add message in create mention task ([f0b10ed](https://github.com/graasp/graasp-plugin-chatbox/commit/f0b10ed9af4562d72d3ecd4e989e3b965ea2e2da))
* add message in update message task ([10cf0ee](https://github.com/graasp/graasp-plugin-chatbox/commit/10cf0eebaa1e20d7330355e605a74ea0b8cb4d77))
* add missing properties ([a74a320](https://github.com/graasp/graasp-plugin-chatbox/commit/a74a320f32569a8b57d1c92a4028d6ef10d7b865))
* add partial message body for post, fix object/relational naming inconsistency ([27c265c](https://github.com/graasp/graasp-plugin-chatbox/commit/27c265c42f6485a788d60c04acb2626991179655))
* add table prefix name ([baf54a1](https://github.com/graasp/graasp-plugin-chatbox/commit/baf54a1b8c1d7455fcafc9446b19e302c19d32b6))
* apply PR changes ([0900c1b](https://github.com/graasp/graasp-plugin-chatbox/commit/0900c1bc1e1ccf62227ffaebc8aff841ecb2580c))
* apply requested changes ([1a3c101](https://github.com/graasp/graasp-plugin-chatbox/commit/1a3c101d096ed400754c337800f93223c90d04ce))
* authorize an empty mentions array ([68419a2](https://github.com/graasp/graasp-plugin-chatbox/commit/68419a27845252b8802cee90dc8f52ba4f4d9fc7))
* authorize an empty mentions array in post message ([73fbefa](https://github.com/graasp/graasp-plugin-chatbox/commit/73fbefa2d287d1042924018ff16f60dbe4482b15))
* change route ([837a063](https://github.com/graasp/graasp-plugin-chatbox/commit/837a0636b77ac230e7ca6d85c9abdfe73b82a870))
* chat schema, types entry point ([1e6253e](https://github.com/graasp/graasp-plugin-chatbox/commit/1e6253e0c5e83ea6ccd4b443643156db458bbe7a))
* correct migration script ([91dcde1](https://github.com/graasp/graasp-plugin-chatbox/commit/91dcde15c40ae0c47119cf13f9ef1f53dfafde31))
* correct return of publishMessage task ([57e96a5](https://github.com/graasp/graasp-plugin-chatbox/commit/57e96a517fdcb27f808622b2ff45a6ac37bca511))
* disambiguate createdAt field in SQL ([581772e](https://github.com/graasp/graasp-plugin-chatbox/commit/581772e28739ad31d7af3d9ba485018d0c21c8ab))
* do not call mentions task if mentions array is empty ([4894e66](https://github.com/graasp/graasp-plugin-chatbox/commit/4894e6697704de1877dc2730424c99eecb3c7472))
* error ([b71dd83](https://github.com/graasp/graasp-plugin-chatbox/commit/b71dd83a906ed4bdd9169df3b63b1fc3ba905fe8))
* get mention schema ([20c5d00](https://github.com/graasp/graasp-plugin-chatbox/commit/20c5d009c3059d95a07ccdda60f5e5b2597a0ffd))
* let DB generate timestamp, disable strict null checks, perf: add indices ([85c3fd4](https://github.com/graasp/graasp-plugin-chatbox/commit/85c3fd4d6f76cec32f0ddd6a605ba1956a39f190))
* mail confusion with names ([a99f1a4](https://github.com/graasp/graasp-plugin-chatbox/commit/a99f1a4cda6c73ae03e4ae4202796dcce5b3d8fd))
* migration ([7b03c96](https://github.com/graasp/graasp-plugin-chatbox/commit/7b03c96261a56deaf30b7bf7dbcef81f04bb1679))
* mis-matched member type in delete mention ([12c4361](https://github.com/graasp/graasp-plugin-chatbox/commit/12c436126d896e6bb144ae5cf0d98cec4619d245))
* remove empty table prefix ([c953dbc](https://github.com/graasp/graasp-plugin-chatbox/commit/c953dbcd1f794a00ad05fb8755cc7b1c85ecc831))
* remove index.d.ts ([4fb3119](https://github.com/graasp/graasp-plugin-chatbox/commit/4fb3119f85cf1e1a1bb6ec6027d6d8f99f862b14))
* remove logs ([680a4cd](https://github.com/graasp/graasp-plugin-chatbox/commit/680a4cdd4caa862ed8ae76eff2267373c578e5c2))
* return array of created mentions ([67f9e1c](https://github.com/graasp/graasp-plugin-chatbox/commit/67f9e1c9dd29acdca8068ea5b5a149139fda5318))
* revert fastify version and fix types ([ecd806b](https://github.com/graasp/graasp-plugin-chatbox/commit/ecd806bbfd2457e571ee59cde20a006102b196fa))
* scope plugin ([#23](https://github.com/graasp/graasp-plugin-chatbox/issues/23)) ([5c35f46](https://github.com/graasp/graasp-plugin-chatbox/commit/5c35f46da4d883c8c8724bf8d05dbbbea3d64380))
* type issues with sdk and @types/graasp ([d86e283](https://github.com/graasp/graasp-plugin-chatbox/commit/d86e2839f971145ee070805180d9c56822847c6d))
* typo in route yielded undefined item id ([3492e28](https://github.com/graasp/graasp-plugin-chatbox/commit/3492e28c766e201dd532794046e81fd2bc015afb))
* update graasp-mailer to latest version ([e3dd95a](https://github.com/graasp/graasp-plugin-chatbox/commit/e3dd95a4ab93915e702c390d691d9ea97b2ca365))
* update sdk usage ([ebaaee8](https://github.com/graasp/graasp-plugin-chatbox/commit/ebaaee832ffb9652c08db15bcfeac8b0a969237d))
* update tests ([06b2d72](https://github.com/graasp/graasp-plugin-chatbox/commit/06b2d72b9c4bfcb89609f60a0efa94498a01c8a4))
* update type to include creatorName ([1cfa36f](https://github.com/graasp/graasp-plugin-chatbox/commit/1cfa36f235c80e7f0c400a92b812d6a8b7e47d58))
* use item path instead of id ([eff363c](https://github.com/graasp/graasp-plugin-chatbox/commit/eff363cb864a5bf620c61c939e9df1eb628d096e))
* use provided transaction handler in hooks ([#47](https://github.com/graasp/graasp-plugin-chatbox/issues/47)) ([8f1b32a](https://github.com/graasp/graasp-plugin-chatbox/commit/8f1b32a3b7a8e350e1ee0da16690ac839d07049d))
* use result instead of getResult ([adb7ffb](https://github.com/graasp/graasp-plugin-chatbox/commit/adb7ffb61436683b16ba862bfc123e7cd348bc0e))
